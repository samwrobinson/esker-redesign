{% extends "layouts/base.html" %}

{% block head %}
    <link rel="stylesheet" href="/assets/css/video-landing.css">

    <!-- Video-specific Open Graph tags -->
    <meta property="og:type" content="video.other"/>
    <meta property="og:video" content="https://www.youtube.com/embed/{{ videoId }}"/>
    <meta property="og:video:secure_url" content="https://www.youtube.com/embed/{{ videoId }}"/>
    <meta property="og:video:type" content="text/html"/>
    <meta property="og:video:width" content="1280"/>
    <meta property="og:video:height" content="720"/>
    <meta property="og:image" content="https://i.ytimg.com/vi/{{ videoId }}/maxresdefault.jpg"/>
    <meta property="og:image:secure_url" content="https://i.ytimg.com/vi/{{ videoId }}/maxresdefault.jpg"/>

    <!-- Twitter Player Card for video -->
    <meta name="twitter:card" content="player"/>
    <meta name="twitter:title" content="{{ videoTitle | default(title) }}"/>
    <meta name="twitter:description" content="{{ videoDescription | default(description) }}"/>
    <meta name="twitter:player" content="https://www.youtube.com/embed/{{ videoId }}"/>
    <meta name="twitter:player:width" content="1280"/>
    <meta name="twitter:player:height" content="720"/>
    <meta name="twitter:image" content="https://i.ytimg.com/vi/{{ videoId }}/maxresdefault.jpg"/>

    <!-- VideoObject Schema - Primary content for video indexing -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "VideoObject",
            "name": "{{ videoTitle | default(title) }}",
            "description": "{{ videoDescription | default(description) }}",
            "thumbnailUrl": [
                "https://i.ytimg.com/vi/{{ videoId }}/maxresdefault.jpg",
                "https://i.ytimg.com/vi/{{ videoId }}/sddefault.jpg",
                "https://i.ytimg.com/vi/{{ videoId }}/hqdefault.jpg"
            ],
            "uploadDate": "{{ videoUploadDate | default(date) | postDate }}",
            "duration": "{{ videoDuration }}",
            "contentUrl": "https://www.youtube.com/watch?v={{ videoId }}",
            "embedUrl": "https://www.youtube.com/embed/{{ videoId }}",
            {% if client.domain and page.url %}"mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "{{ client.domain }}{{ page.url }}"
            },{% endif %}
            {% if client.name %}
            "publisher": {
                "@type": "Organization",
                "name": "{{ client.name }}"
            },
            {% endif %}
            "potentialAction": {
                "@type": "WatchAction",
                "target": "https://www.youtube.com/watch?v={{ videoId }}"
            }
        }
    </script>
{% endblock %}

{% block body %}
<!-- ============================================ -->
<!--            Video Landing Hero               -->
<!-- ============================================ -->

<section id="video-landing-hero">
    <div class="cs-container">
        <div class="cs-video-wrapper">
            <iframe
                src="https://www.youtube.com/embed/{{ videoId }}?rel=0&modestbranding=1&enablejsapi=1"
                title="{{ videoTitle | default(title) }}"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin"
                allowfullscreen>
            </iframe>
        </div>
        <div class="cs-content">
            <h1 class="cs-title">{{ videoTitle | default(title) }}</h1>
            <p class="cs-text">{{ videoDescription | default(description) }}</p>
            {% if blogUrl %}
            <a href="{{ blogUrl }}" class="cs-read-more">Read the full written guide</a>
            {% endif %}
        </div>
    </div>
</section>

<!-- ============================================ -->
<!--              Booking Section                -->
<!-- ============================================ -->

<section id="video-landing-cta">
    <div class="cs-container">
        <div class="cs-cta-content">
            <h2 class="cs-title">{{ ctaTitle | default("Ready to Get Started?") }}</h2>
            <p class="cs-text">{{ ctaText | default("Book a free consultation to discuss your project.") }}</p>
        </div>
        <div class="cs-form-wrapper">
            <iframe
                src="https://api.leadconnectorhq.com/widget/booking/QBCxRkud4XXiYKHPhPPK"
                style="width: 100%; border: none; overflow: hidden; min-height: 600px;"
                scrolling="no"
                id="booking-iframe">
            </iframe>
            <script src="https://link.msgsndr.com/js/form_embed.js" type="text/javascript"></script>
        </div>
    </div>
</section>
{% endblock %}
